{
{% set d=deftab[type] -%}
{% for c in match.cases -%}
{%- if loop.index0 != 0 -%} else {% endif -%}
if(
{%- for p in c.pats -%}
{%- if loop.index0 != 0 -%} && {%- endif -%}
{{match.expr}}{{op}}{{d[loop.index0][1]}} == {{p}}
{%- endfor -%}
)
{{c.block}}
{% endfor %}
}